(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{155:function(e,t,n){},17:function(e,t,n){e.exports={avatar:"ProfileInfo_avatar__5RQK7",images:"ProfileInfo_images__2ZQ9B",wrapper:"ProfileInfo_wrapper__ar6Hn",label:"ProfileInfo_label__2k_Nw",changeAvatarBox:"ProfileInfo_changeAvatarBox__2IZTw",inputFile:"ProfileInfo_inputFile__2MHjY",dataChangesBox:"ProfileInfo_dataChangesBox__1v_m_",title:"ProfileInfo_title__3LiCi",pencilDecor:"ProfileInfo_pencilDecor__2pCnK",statusBox:"ProfileInfo_statusBox__1evDX",statusInput:"ProfileInfo_statusInput__2ecQD",edit:"ProfileInfo_edit__3RPCH",tbody:"ProfileInfo_tbody__cjvlY"}},19:function(e,t,n){e.exports={loginWrapper:"style_loginWrapper__N9tP0",box:"style_box__3bekn",subTitle:"style_subTitle__3q87b",link:"style_link__32jd_",text:"style_text__nIWJu",decor:"style_decor__2CYM6",input:"style_input__2QUrT",label:"style_label__3fuOR",inputCheckbox:"style_inputCheckbox__24xM2"}},21:function(e,t,n){e.exports={navigation:"navigation_navigation__1kz7S",navigation__item:"navigation_navigation__item__3lnvr",navigation__link:"navigation_navigation__link__EVboG",navigation__active:"navigation_navigation__active__3gih1"}},23:function(e,t,n){e.exports={wrapperUsers:"users_wrapperUsers__1WQpu",boxUser:"users_boxUser__vAgjs",wrapper:"users_wrapper__1O3s3",userPhoto:"users_userPhoto__1H41c",name:"users_name__vpwOP",status:"users_status__3w5ee",nameSpan:"users_nameSpan__2tpcB",btn:"users_btn__1199v",loader:"users_loader__3AMDL"}},24:function(e,t,n){e.exports={header:"Header_header__3q43m",wrapper:"Header_wrapper__qew8b",btn:"Header_btn__hO9Xg",logout:"Header_logout__3j1kR",text:"Header_text__XHZIG",avatar:"Header_avatar__2lwXB",headerLogoText:"Header_headerLogoText__3kfQF",headerNavigateBox:"Header_headerNavigateBox__1LA3O",login:"Header_login__2quml"}},288:function(e,t,n){"use strict";n.r(t);var a,r=n(1),s=n.n(r),c=(n(155),n(11)),i=n(9),o=n.n(i),l=n(12),u=n(30),j=n(3),d=n(123),b=n.n(d).a.create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"edbb6621-0047-4274-8a4c-f1d2a1bf4727    "}}),p={getUsers:function(e,t){return b.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},unfollow:function(e){return b.delete("follow/".concat(e))},follow:function(e){return b.post("follow/".concat(e))}},O=function(e){return b.get("profile/"+e)},f=function(e){return b.get("profile/status/".concat(e))},h=function(e){return b.put("profile/status",{status:e})},m=function(e){var t=new FormData;return t.append("image",e),b.put("/profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}})},x=function(e){return b.put("profile",e)},v=function(){return b.get("auth/me")},g=function(e,t,n,a){return b.post("auth/login",{email:e,password:t,rememberMe:n,captcha:a})},_=function(){return b.delete("/auth/login")},N=function(){return b.get("security/get-captcha-url")},w=n(20),y=n(42),S=n(8),k={id:void 0,email:null,login:null,isAuth:!1,captchaUrl:null},E=function(e,t,n,a){return{type:"SET-USER-DATA",payload:{id:e,email:t,login:n,isAuth:a}}},I=function(e){return{type:"GET_CAPTCHA_URL_SUCCESS",payload:{captchaUrl:e}}},P=function(){return function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a,r,s,c,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(U(!1)),e.next=4,v();case 4:0===(n=e.sent).data.resultCode&&(a=n.data.data,r=a.id,s=a.email,c=a.login,t(E(r,s,c,!0)),t(T(!0))),1===n.data.resultCode&&F(n.data.messages[0],t),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),t(T(!0)),e.t0 instanceof Error&&(i=e.t0.name,F(i,t));case 13:return e.prev=13,t(U(!0)),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[0,9,13,16]])})));return function(t){return e.apply(this,arguments)}}()},C=function(){return function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N();case 3:n=e.sent,a=n.data.url,t(I(a)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),e.t0 instanceof Error&&(r=e.t0.name,F(r,t));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},A={initialized:!1,progress:!0,error:null},T=function(e){return{type:"INITIALIZED-SUCCESS",value:e}},U=function(e){return{type:"PROGRESS",value:e}},L=function(e){return{type:"APP-ERROR",value:e}},R=S.d,F=function(e,t){e&&(t(L(e)),setTimeout((function(){t(L(null))}),2e3))},M={posts:[{id:Object(y.v1)(),message:"Hi,how are you",likesCount:0},{id:Object(y.v1)(),message:"Hi, you",likesCount:1},{id:Object(y.v1)(),message:"Hi,how are you",likesCount:0},{id:Object(y.v1)(),message:"how are you",likesCount:0}],profile:null,status:""},B=function(e){return{type:"SET-STATUS",status:e}},G=function(e){return function(){var t=Object(l.a)(o.a.mark((function t(n){var a,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(U(!0)),t.next=4,O(e);case 4:a=t.sent,n({type:"SET-USER-PROFILE",profile:a.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),t.t0 instanceof Error&&(r=t.t0.name,F(r,n));case 11:return t.prev=11,n(U(!0)),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[0,8,11,14]])})));return function(e){return t.apply(this,arguments)}}()},D=function(e){return function(){var t=Object(l.a)(o.a.mark((function t(n){var a,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(U(!1)),t.next=4,f(e);case 4:a=t.sent,n(B(a.data)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),t.t0 instanceof Error&&(r=t.t0.name,F(r,n));case 11:return t.prev=11,n(U(!0)),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[0,8,11,14]])})));return function(e){return t.apply(this,arguments)}}()},H={dialogs:[{id:1,name:"Slava"},{id:2,name:"Borya"},{id:3,name:"Igor"},{id:4,name:"Viktor"}],messages:[{id:1,message:"Hi how are you doing"},{id:2,message:"I heard that you have problems"},{id:3,message:"how is your health today"},{id:4,message:"Where had you been?"}]},W={users:[],pageSize:10,totalUsersCount:0,currentPage:1,isFetching:!0,followingInProgress:[]},z=function(e){return{type:"FOLLOW",userId:e}},J=function(e){return{type:"UNFOLLOW",userId:e}},Q=function(e){return{type:"SET-CURRENT-PAGE",currentPage:e}},V=function(e){return{type:"TOGGLE-IS-FETCHING",isFetching:e}},Y=function(e,t){return{type:"TOGGLE-IS-FOLLOWING-PROGRESS",isFetching:e,userId:t}},Z=function(e,t){return function(){var n=Object(l.a)(o.a.mark((function n(a){var r;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a(U(!1)),a(V(!0)),a(Q(e)),n.next=6,p.getUsers(e,t);case 6:r=n.sent,a({type:"SET-USER",users:r.items}),a({type:"SET-USERS-TOTAL-COUNT",totalCount:r.totalCount}),n.next=13;break;case 11:n.prev=11,n.t0=n.catch(0);case 13:return n.prev=13,a(U(!0)),a(V(!1)),n.finish(13);case 17:case"end":return n.stop()}}),n,null,[[0,11,13,17]])})));return function(e){return n.apply(this,arguments)}}()},q=function(){var e=Object(l.a)(o.a.mark((function e(t,n,a,r){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(Y(!0,n)),e.next=3,a(n);case 3:0===e.sent.data.resultCode&&t(r(n)),t(Y(!1,n));case 6:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),X=n(127),K=n(122),$=n(125),ee=Object(c.combineReducers)({profilePage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-POST":return Object(j.a)(Object(j.a)({},e),{},{posts:[].concat(Object(u.a)(e.posts),[{id:Object(y.v1)(),message:t.newPostBody,likesCount:0}])});case"SET-USER-PROFILE":return Object(j.a)(Object(j.a)({},e),{},{profile:t.profile});case"SET-STATUS":return Object(j.a)(Object(j.a)({},e),{},{status:t.status});case"COUNTER":return Object(j.a)(Object(j.a)({},e),{},{posts:Object(u.a)(e.posts.map((function(e){return e.id===t.id?Object(j.a)(Object(j.a)({},e),{},{likesCount:t.likesCount}):e})))});default:return e}},dialogsPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEND-MESSAGE":return Object(j.a)(Object(j.a)({},e),{},{messages:[].concat(Object(u.a)(e.messages),[{id:6,message:t.newMessageBody}])});default:return e}},usersPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return Object(j.a)(Object(j.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(j.a)(Object(j.a)({},e),{},{followed:!0}):e}))});case"UNFOLLOW":return Object(j.a)(Object(j.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(j.a)(Object(j.a)({},e),{},{followed:!1}):e}))});case"SET-USER":return Object(j.a)(Object(j.a)({},e),{},{users:Object(u.a)(t.users)});case"SET-CURRENT-PAGE":return Object(j.a)(Object(j.a)({},e),{},{currentPage:t.currentPage});case"SET-USERS-TOTAL-COUNT":return Object(j.a)(Object(j.a)({},e),{},{totalUsersCount:t.totalCount});case"TOGGLE-IS-FETCHING":return Object(j.a)(Object(j.a)({},e),{},{isFetching:t.isFetching});case"TOGGLE-IS-FOLLOWING-PROGRESS":return Object(j.a)(Object(j.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(u.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!=t.userId}))});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET-USER-DATA":return Object(j.a)(Object(j.a)(Object(j.a)({},e),t.payload),{},{isAuth:t.payload.isAuth});case"GET_CAPTCHA_URL_SUCCESS":return Object(j.a)(Object(j.a)({},e),t.payload);default:return e}},form:K.a,app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITIALIZED-SUCCESS":return Object(j.a)(Object(j.a)({},e),{},{initialized:t.value});case"APP-ERROR":return Object(j.a)(Object(j.a)({},e),{},{error:t.value});case"PROGRESS":return Object(j.a)(Object(j.a)({},e),{},{progress:t.value});default:return e}}}),te=Object(c.createStore)(ee,Object($.composeWithDevTools)(Object(c.applyMiddleware)(X.a))),ne=n(64),ae=n.n(ne),re=n(13),se=function(e){return e.auth},ce=function(e){return e.dialogsPage},ie=function(e){return e.app},oe=function(e){return e.profilePage},le=function(e){return e.usersPage},ue=function(e){return e.app.error},je=n(24),de=n.n(je),be=n.p+"static/media/logout.1bf8fe5c.svg",pe=n.p+"static/media/users.998e6aeb.png";!function(e){e.ME="/",e.PROFILE="/profile",e.DIALOGS="/dialogs",e.USERS="/users",e.LOGIN="/login",e.ERROR_404="404"}(a||(a={}));var Oe=n(0),fe=function(){var e=Object(S.c)(),t=R(se).isAuth,n=R(oe).profile;return Object(Oe.jsx)("header",{className:de.a.header,children:Object(Oe.jsx)("div",{className:"maxContainer",children:Object(Oe.jsxs)("div",{className:de.a.wrapper,children:[Object(Oe.jsx)("div",{children:Object(Oe.jsx)("span",{className:de.a.headerLogoText,children:"It-incubator"})}),Object(Oe.jsx)("div",{className:de.a.loginBlock,children:t?Object(Oe.jsxs)("div",{className:de.a.headerNavigateBox,children:[Object(Oe.jsx)("img",{className:de.a.avatar,src:(null===n||void 0===n?void 0:n.photos.small)||pe,alt:"avatar"}),Object(Oe.jsxs)("button",{className:de.a.btn,onClick:function(){e(function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_();case 3:0===e.sent.data.resultCode&&(t(E(void 0,null,null,!1)),t(T(!0))),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof Error&&(n=e.t0.name,F(n,t));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())},children:[Object(Oe.jsx)("span",{className:de.a.text,children:"Log out"}),Object(Oe.jsx)("img",{className:de.a.logout,src:be,alt:"logoutIcon"})]})]}):Object(Oe.jsx)(re.b,{className:de.a.login,to:a.LOGIN,children:"Login"})})]})})})},he=n(21),me=n.n(he),xe=n(128),ve=n.n(xe),ge=function(){return Object(Oe.jsx)("div",{children:Object(Oe.jsxs)("ul",{className:ve()(me.a.navigation__items,me.a.navigation),children:[Object(Oe.jsx)("li",{className:me.a.navigation__item,children:Object(Oe.jsx)(re.b,{className:function(e){var t=e.isActive;return"".concat(me.a.navigation__link," ").concat(t?me.a.navigation__active:"")},to:a.ME,children:"Me"})}),Object(Oe.jsx)("li",{className:me.a.navigation__item,children:Object(Oe.jsx)(re.b,{className:function(e){var t=e.isActive;return"".concat(me.a.navigation__link," ").concat(t?me.a.navigation__active:"")},to:a.DIALOGS,children:"Messages"})}),Object(Oe.jsx)("li",{className:me.a.navigation__item,children:Object(Oe.jsx)(re.b,{className:function(e){var t=e.isActive;return"".concat(me.a.navigation__link," ").concat(t?me.a.navigation__active:"")},to:a.USERS,children:"Users"})})]})})},_e=n(6),Ne=n(35),we=n.n(Ne),ye=n(120),Se=n(121),ke=function(){var e=Object(S.c)(),t=R(ce),n=t.dialogs,r=t.messages,s=R(se).isAuth,c=n.map((function(e){var t=e.id,n=e.name;return Object(Oe.jsx)("div",{className:we.a.item,children:n},t)})),i=r.map((function(e){var t=e.id,n=e.message;return Object(Oe.jsx)("div",{className:we.a.item,children:n},t)}));return s?Object(Oe.jsxs)("div",{className:we.a.wrapper,children:[Object(Oe.jsxs)("div",{className:we.a.block,children:[Object(Oe.jsx)("div",{className:we.a.dialogsItems,children:c}),Object(Oe.jsx)("div",{className:we.a.messages,children:i})]}),Object(Oe.jsx)(Ee,{onSubmit:function(t){e({type:"SEND-MESSAGE",newMessageBody:t.newMessageBody}),e(Object(w.a)("dialogAddMessageForm"))}})]}):Object(Oe.jsx)(_e.a,{to:a.LOGIN})},Ee=Object(Se.a)({form:"dialogAddMessageForm"})((function(e){return Object(Oe.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(Oe.jsx)(ye.a,{component:"textarea",name:"newMessageBody",className:"textArea",placeholder:"Enter your message"}),Object(Oe.jsx)("div",{children:Object(Oe.jsx)("button",{className:"btn",children:"Add message"})})]})})),Ie=n(68),Pe=n(87),Ce=n.n(Pe),Ae=function(e){e.input;var t=e.meta,n=(e.child,Object(Ie.a)(e,["input","meta","child"])),a=t.touched&&t.error;return Object(Oe.jsxs)("div",{className:Ce.a.formControl+" "+(a?Ce.a.error:""),children:[Object(Oe.jsx)("div",{children:n.children}),a&&Object(Oe.jsx)("span",{children:t.error})]})},Te=function(e){var t=e.input,n=(e.meta,e.child,Object(Ie.a)(e,["input","meta","child"]));return Object(Oe.jsx)(Ae,Object(j.a)(Object(j.a)({},e),{},{children:Object(Oe.jsx)("textarea",Object(j.a)(Object(j.a)({},t),n))}))},Ue=function(e){var t=e.input,n=(e.meta,e.child,Object(Ie.a)(e,["input","meta","child"]));return Object(Oe.jsx)(Ae,Object(j.a)(Object(j.a)({},e),{},{children:Object(Oe.jsx)("input",Object(j.a)(Object(j.a)({},t),n))}))};function Le(e,t,n,a){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return Object(Oe.jsxs)("div",{children:[Object(Oe.jsx)(ye.a,Object(j.a)({placeholder:e,name:t,validate:n,component:a},r))," ",s]})}var Re,Fe=function(e){if(!e)return"Field is required"},Me=n(19),Be=n.n(Me),Ge=Object(Se.a)({form:"login"})((function(e){var t=e.error,n=e.captchaUrl;return Object(Oe.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(Oe.jsx)("div",{children:Object(Oe.jsx)(ye.a,{validate:[Fe],component:Ue,className:Be.a.input,name:"login",placeholder:"Login"})}),Object(Oe.jsx)("div",{children:Object(Oe.jsx)(ye.a,{validate:[Fe],component:Ue,className:Be.a.input,name:"password",placeholder:"Password",type:"password"})}),Object(Oe.jsxs)("label",{className:Be.a.label,children:["remember me",Object(Oe.jsx)(ye.a,{component:Ue,className:Be.a.inputCheckbox,name:"rememberMe",type:"checkbox"})]}),n&&Object(Oe.jsx)("img",{src:n,alt:"captchaUrl"}),n&&Le("Symbols from image","captcha",[Fe],Ue,{}),t&&Object(Oe.jsx)("div",{style:{color:"red"},children:t}),Object(Oe.jsx)("div",{children:Object(Oe.jsx)("button",{children:"Login"})})]})})),De=function(){var e=R(se),t=e.isAuth,n=e.captchaUrl,r=Object(S.c)();return t?Object(Oe.jsx)(_e.a,{to:a.ME}):Object(Oe.jsx)("div",{className:Be.a.loginWrapper,children:Object(Oe.jsxs)("div",{className:Be.a.box,children:[Object(Oe.jsxs)("h3",{className:Be.a.subTitle,children:["To log in get registered ",Object(Oe.jsx)("a",{className:Be.a.link,href:"https://social-network.samuraijs.com/login",children:"here"})," or use common test account credentials:"]}),Object(Oe.jsxs)("p",{className:Be.a.text,children:["Email:",Object(Oe.jsx)("span",{className:Be.a.decor,children:"  free@samuraijs.com"})]}),Object(Oe.jsxs)("p",{className:Be.a.text,children:["Password:",Object(Oe.jsx)("span",{className:Be.a.decor,children:" free"})]}),Object(Oe.jsx)(Ge,{onSubmit:function(e){var t,n,a,s;r((t=e.login,n=e.password,a=e.rememberMe,s=e.captcha,function(){var e=Object(l.a)(o.a.mark((function e(r){var c,i,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g(t,n,a,s);case 3:if(0!==(c=e.sent).data.resultCode){e.next=9;break}return e.next=7,r(P());case 7:e.next=16;break;case 9:if(10!==c.data.resultCode){e.next=14;break}return e.next=12,r(C());case 12:e.next=16;break;case 14:i=c.data.messages.length>0?c.data.messages[0]:"Some error",r(Object(w.b)("login",{_error:i}));case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),e.t0 instanceof Error&&(l=e.t0.name,F(l,r));case 21:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(t){return e.apply(this,arguments)}}()))},captchaUrl:n})]})})},He=n(16),We=n(17),ze=n.n(We),Je=n(88),Qe=n.n(Je),Ve=n.p+"static/media/loader.65c3f468.gif",Ye=function(){return Object(Oe.jsx)("div",{className:Qe.a.box,children:Object(Oe.jsx)("img",{className:Qe.a.img,src:Ve,alt:"loading"})})},Ze=n.p+"static/media/pencil.0312b8be.svg",qe=function(e){var t=e.status,n=e.userId,a=e.myId;return console.log(t),Object(Oe.jsx)("div",{children:n===a?Object(Oe.jsx)(Xe,{status:t}):Object(Oe.jsx)("span",{children:t||"not status"})})},Xe=function(e){var t=e.status,n=Object(r.useState)(!1),a=Object(He.a)(n,2),s=a[0],c=a[1],i=Object(r.useState)(t),u=Object(He.a)(i,2),j=u[0],d=u[1],b=Object(S.c)();return Object(Oe.jsx)("div",{children:s?Object(Oe.jsx)("input",{className:ze.a.statusInput,onChange:function(e){d(e.currentTarget.value)},onBlur:function(){b(function(e){return function(){var t=Object(l.a)(o.a.mark((function t(n){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(U(!1)),t.next=4,h(e);case 4:0===t.sent.data.resultCode&&n(B(e)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),t.t0 instanceof Error&&(a=t.t0.name,F(a,n));case 11:return t.prev=11,n(U(!0)),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[0,8,11,14]])})));return function(e){return t.apply(this,arguments)}}()}(j)),c(!1)},autoFocus:!0,type:"text",placeholder:"change profile status",value:j}):Object(Oe.jsxs)("div",{onDoubleClick:function(){c(!0)},className:ze.a.statusBox,children:[Object(Oe.jsx)("b",{children:"status:"}),Object(Oe.jsx)("span",{children:t||"\u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u0443\u0441 \u043f\u0440\u043e\u0444\u0438\u043b\u044f"}),Object(Oe.jsx)("img",{className:ze.a.pencilDecor,src:Ze,alt:"pencil"})]})})},Ke=Object(Se.a)({form:"edit-profile"})((function(e){var t=e.handleSubmit,n=e.profile,a=e.error;return Object(Oe.jsxs)("form",{onSubmit:t,children:[Object(Oe.jsx)("div",{children:Object(Oe.jsx)("button",{children:"save"})}),a&&Object(Oe.jsx)("div",{children:a}),Object(Oe.jsxs)("div",{children:[Object(Oe.jsx)("b",{children:"Full name"}),": ",Le("Full name","fullName",[],Ue)]}),Object(Oe.jsxs)("div",{children:[Object(Oe.jsx)("b",{children:"Looking for a job"}),": ",Le("","lookingForAJob",[],Ue,{type:"checkbox"})]}),Object(Oe.jsxs)("div",{children:[Object(Oe.jsx)("b",{children:"My professional skills"}),":",Le("My professional skills","lookingForAJobDescription",[],Te)]}),Object(Oe.jsxs)("div",{children:[Object(Oe.jsx)("b",{children:"About me"}),":",Le("About me","aboutMe",[],Te)]}),Object(Oe.jsxs)("div",{children:[Object(Oe.jsx)("b",{children:"Contacts"}),": ",Object.keys(null===n||void 0===n?void 0:n.contacts).map((function(e){return Object(Oe.jsx)("div",{children:Object(Oe.jsxs)("b",{children:[e,": ",Le(e,"contacts."+e,[],Ue)]})},e)}))]})]})})),$e=function(e){var t=e.profile,n=e.status,a=e.userId,s=Object(S.c)(),c=Object(r.useState)(!1),i=Object(He.a)(c,2),u=i[0],j=i[1],d=R(se).id;if(!t)return Object(Oe.jsx)(Ye,{});return Object(Oe.jsxs)("div",{className:ze.a.wrapper,children:[Object(Oe.jsxs)("div",{className:ze.a.changeAvatarBox,children:[Object(Oe.jsx)("img",{className:ze.a.images,src:t.photos.large||pe,alt:"img"}),d===a&&Object(Oe.jsxs)("label",{className:ze.a.label,children:["change avatar",Object(Oe.jsx)("input",{className:ze.a.inputFile,type:"file",onChange:function(e){var t;e.currentTarget.files&&e.currentTarget.files.length&&s((t=e.currentTarget.files[0],function(){var e=Object(l.a)(o.a.mark((function e(n){var a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n(U(!1)),e.next=4,m(t);case 4:0===(a=e.sent).data.resultCode&&n({type:"SAVE-PHOTO-SUCCESS",photos:a.data.data.photos}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),e.t0 instanceof Error&&(r=e.t0.name,F(r,n));case 11:return e.prev=11,n(U(!0)),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(t){return e.apply(this,arguments)}}()))}})]})]}),Object(Oe.jsxs)("div",{className:ze.a.dataChangesBox,children:[Object(Oe.jsx)("h2",{className:ze.a.title,children:"User information:"}),Object(Oe.jsx)(qe,{status:n,myId:d,userId:a}),u?Object(Oe.jsx)(Ke,{initialValues:t,profile:t,onSubmit:function(e){s(function(e){return function(){var t=Object(l.a)(o.a.mark((function t(n,a){var r,s,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(U(!1)),r=a().auth.id,t.next=5,x(e);case 5:if(0!==(s=t.sent).data.resultCode){t.next=10;break}n(G(r)),t.next=12;break;case 10:return n(Object(w.b)("edit-profile",{_error:s.data.messages[0]})),t.abrupt("return",Promise.reject(s.data.messages[0]));case 12:t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0),t.t0 instanceof Error&&(c=t.t0.name,F(c,n));case 17:return t.prev=17,n(U(!0)),t.finish(17);case 20:case"end":return t.stop()}}),t,null,[[0,14,17,20]])})));return function(e,n){return t.apply(this,arguments)}}()}(e)),j(!1)}}):Object(Oe.jsx)(et,{profile:t,goToEditMode:function(){return j(!0)}}),d===a&&Object(Oe.jsx)("button",{className:ze.a.edit,onClick:function(){return j(!u)},children:"Edit information \u270e"})]})]})},et=function(e){var t=e.profile;e.goToEditMode;return Object(Oe.jsx)("table",{children:Object(Oe.jsxs)("tbody",{className:ze.a.tbody,children:[Object(Oe.jsxs)("tr",{children:[Object(Oe.jsx)("td",{children:"Full name:"}),Object(Oe.jsx)("td",{children:t.fullName})]}),Object(Oe.jsxs)("tr",{children:[Object(Oe.jsx)("td",{children:"About me:"}),Object(Oe.jsx)("td",{children:t.aboutMe})]}),Object(Oe.jsxs)("tr",{children:[Object(Oe.jsx)("td",{children:"Looking for a job:"}),Object(Oe.jsx)("td",{children:t.lookingForAJob?"yes":"not"})]}),t.lookingForAJob&&Object(Oe.jsxs)("div",{children:[Object(Oe.jsx)("b",{children:"My professional skills"}),":",t.lookingForAJob]}),Object(Oe.jsx)("b",{children:"Contacts"}),": ",Object.keys(t.contacts).map((function(e){return Object(Oe.jsx)("div",{children:null!==t.contacts[e]&&Object(Oe.jsx)(tt,{contactTitle:e,contactValue:t.contacts[e]})},e)}))]})})},tt=function(e){var t=e.contactTitle,n=e.contactValue;return Object(Oe.jsx)("table",{children:Object(Oe.jsx)("tbody",{children:Object(Oe.jsxs)("tr",{children:[Object(Oe.jsxs)("td",{children:[t,":"]}),Object(Oe.jsx)("td",{children:n})]})})})},nt=function(){var e=Object(S.c)(),t=R(oe),n=t.profile,s=t.status,c=R(se).isAuth,i=Object(_e.h)().userId;return Object(r.useEffect)((function(){i&&(e(G(Number(i))),e(D(Number(i))))}),[i,e]),c?Object(Oe.jsx)("div",{style:{width:"100%"},children:Object(Oe.jsx)($e,{profile:n,status:s,userId:i})}):Object(Oe.jsx)(_e.a,{to:a.LOGIN})},at=n.p+"static/media/rightArrow.0684657e.svg",rt=n.p+"static/media/leftArrow.1bc5754e.svg",st=n(31),ct=n.n(st),it=function(e){for(var t=Object.assign({},e),n=t.pageSize,a=t.totalUsersCount,s=t.currentPage,c=t.onPageChanged,i=t.portionSize,o=void 0===i?10:i,l=Math.ceil(a/n),u=Math.ceil(l/o),j=Object(r.useState)(1),d=Object(He.a)(j,2),b=d[0],p=d[1],O=(b-1)*o+1,f=b*o,h=[],m=1;m<=l;m++)h.push(m);return Object(Oe.jsxs)("div",{className:ct.a.wrapperPaginator,children:[b>1&&Object(Oe.jsx)("button",{className:ct.a.btn,onClick:function(){p(b-1)},children:Object(Oe.jsx)("img",{className:ct.a.arrow,src:rt,alt:"leftArrow"})}),h.filter((function(e){return e>=O&&e<=f})).map((function(e){return Object(Oe.jsx)("span",{className:"".concat(ct.a.span," ").concat(s===e?ct.a.active:""),onClick:function(t){c(e)},children:e},e)})),u>b&&Object(Oe.jsx)("button",{className:ct.a.btn,onClick:function(){p(b+1)},children:Object(Oe.jsx)("img",{className:ct.a.arrow,src:at,alt:"rightArrow"})})]})},ot=n(23),lt=n.n(ot),ut=function(e){var t=Object.assign({},e),n=Object(S.c)(),r=t.user,s=t.followingInProgress,c=function(e){var t;n((t=e,function(){var e=Object(l.a)(o.a.mark((function e(n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:q(n,t,p.unfollow.bind(p),J);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},i=function(e){var t;n((t=e,function(){var e=Object(l.a)(o.a.mark((function e(n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:q(n,t,p.follow.bind(p),z);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))};return Object(Oe.jsxs)("div",{className:lt.a.wrapper,children:[Object(Oe.jsx)("div",{children:Object(Oe.jsx)("div",{children:Object(Oe.jsx)(re.b,{to:"".concat(a.PROFILE,"/").concat(r.id),children:Object(Oe.jsx)("img",{src:null!=r.photos.small?r.photos.small:pe,className:lt.a.userPhoto,alt:"usePhoto"})})})}),Object(Oe.jsx)("div",{children:Object(Oe.jsxs)("div",{children:[Object(Oe.jsxs)("div",{className:lt.a.name,children:["Name: ",Object(Oe.jsx)("span",{className:lt.a.nameSpan,children:r.name})]}),Object(Oe.jsx)("span",{className:lt.a.status,children:r.status?r.status:"no status"}),r.followed?Object(Oe.jsx)("button",{className:lt.a.btn,disabled:s.some((function(e){return e===r.id})),onClick:function(){return c(r.id)},children:"Unfollow"}):Object(Oe.jsx)("button",{className:lt.a.btn,disabled:s.some((function(e){return e===r.id})),onClick:function(){return i(r.id)},children:"Follow"})]})})]})},jt=function(){var e=Object(S.c)(),t=R(se).isAuth,n=R(le),s=n.users,c=n.pageSize,i=n.totalUsersCount,o=n.currentPage,l=n.followingInProgress;n.isFetching;return Object(r.useEffect)((function(){e(Z(o,c))}),[]),t?Object(Oe.jsxs)("div",{className:lt.a.wrapperUsers,children:[Object(Oe.jsx)(it,{currentPage:o,onPageChanged:function(t){e(Z(t,c))},totalUsersCount:i,pageSize:c}),Object(Oe.jsx)("div",{className:lt.a.boxUser,children:s.map((function(e){return Object(Oe.jsx)(ut,{user:e,followingInProgress:l},e.id)}))})]}):Object(Oe.jsx)(_e.a,{to:a.LOGIN})},dt=n(52),bt=n.n(dt),pt=n(53),Ot=n.n(pt),ft=n.p+"static/media/post.f6af492a.svg",ht=n.p+"static/media/likeNoActive.9895b6a3.svg",mt=n.p+"static/media/likeActive.652cec0c.svg",xt=function(e){var t=Object(S.c)(),n=e.message,a=e.likesCount,r=e.id,s=function(){t(function(e,t){return{type:"COUNTER",id:e,likesCount:t}}(r,a+1))};return Object(Oe.jsx)("div",{children:Object(Oe.jsxs)("div",{className:Ot.a.item,children:[Object(Oe.jsxs)("div",{children:[Object(Oe.jsx)("img",{className:Ot.a.icons,src:ft,alt:"logo"}),Object(Oe.jsx)("span",{children:n})]}),Object(Oe.jsxs)("div",{children:[a>0?Object(Oe.jsx)("img",{onClick:s,className:Ot.a.likesIcon,src:mt,alt:"likes"}):Object(Oe.jsx)("img",{onClick:s,className:Ot.a.likesIcon,src:ht,alt:"likesActive"}),Object(Oe.jsx)("span",{children:a})]})]})})},vt=Object(r.memo)((function(){var e=Object(S.c)(),t=R(oe).posts.map((function(e){var t=e.id,n=e.message,a=e.likesCount;return Object(Oe.jsx)("div",{children:Object(Oe.jsx)(xt,{message:n,likesCount:a,id:t})},"".concat(t).concat(a))}));return Object(Oe.jsxs)("div",{className:bt.a.myPosts,children:[Object(Oe.jsx)("h3",{className:bt.a.subtitle,children:"My Posts"}),Object(Oe.jsx)("div",{children:Object(Oe.jsx)(_t,{onSubmit:function(t){e({type:"ADD-POST",newPostBody:t.newPostBody}),e(Object(w.a)("postAddForm"))}})}),Object(Oe.jsx)("div",{className:bt.a.posts,children:t})]})})),gt=(Re=10,function(e){if(e.length>Re)return"Max length is ".concat(Re," symbols")}),_t=Object(Se.a)({form:"postAddForm"})((function(e){return Object(Oe.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(Oe.jsx)(ye.a,{validate:[Fe,gt],component:Te,className:"textArea",name:"newPostBody",placeholder:"Enter your post"}),Object(Oe.jsx)("div",{className:bt.a.boxBtn,children:Object(Oe.jsx)("button",{className:"btn",children:"Add post"})})]})})),Nt=function(){var e=Object(S.c)(),t=R(se),n=t.id,s=t.isAuth,c=R(oe),i=c.profile,o=c.status;return Object(r.useEffect)((function(){n&&(e(G(Number(n))),e(D(Number(n))))}),[]),s?Object(Oe.jsxs)("div",{style:{width:"100%"},children:[Object(Oe.jsx)($e,{profile:i,status:o,userId:n}),Object(Oe.jsx)(vt,{})]}):Object(Oe.jsx)(_e.a,{to:a.LOGIN})},wt=n(89),yt=n.n(wt),St=function(){var e=R(ue);return Object(Oe.jsx)("div",{className:yt.a.wrapper,children:Object(Oe.jsx)("div",{className:yt.a.block,children:e})})},kt=function(){var e=Object(S.c)(),t=R(ue),n=R(ie).progress;return Object(r.useEffect)((function(){e(P())}),[]),Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsx)(fe,{}),t&&Object(Oe.jsx)(St,{}),!n&&Object(Oe.jsx)("div",{className:"nav",children:Object(Oe.jsx)("div",{className:"statusBar"})}),Object(Oe.jsxs)("div",{className:"app-wrapper",children:[Object(Oe.jsx)(ge,{}),Object(Oe.jsxs)(_e.d,{children:[Object(Oe.jsx)(_e.b,{path:a.ME,element:Object(Oe.jsx)(Nt,{})}),Object(Oe.jsx)(_e.b,{path:"".concat(a.PROFILE,"/:userId"),element:Object(Oe.jsx)(nt,{})}),Object(Oe.jsx)(_e.b,{path:a.DIALOGS,element:Object(Oe.jsx)(ke,{})}),Object(Oe.jsx)(_e.b,{path:a.USERS,element:Object(Oe.jsx)(jt,{})}),Object(Oe.jsx)(_e.b,{path:a.LOGIN,element:Object(Oe.jsx)(De,{})}),Object(Oe.jsx)(_e.b,{path:"/*",element:Object(Oe.jsx)("div",{children:"error"})})]})]})]})};ae.a.render(Object(Oe.jsx)(s.a.StrictMode,{children:Object(Oe.jsx)(S.a,{store:te,children:Object(Oe.jsx)(re.a,{children:Object(Oe.jsx)(kt,{})})})}),document.getElementById("root"))},31:function(e,t,n){e.exports={wrapperPaginator:"paginator_wrapperPaginator__11cPR",arrow:"paginator_arrow__3hN6X",btn:"paginator_btn__1x78D",active:"paginator_active__1lzh6",span:"paginator_span__1Hryq"}},35:function(e,t,n){e.exports={wrapper:"Dialogs_wrapper__3FNzr",block:"Dialogs_block__Jw7X4",item:"Dialogs_item__2eDoH"}},52:function(e,t,n){e.exports={myPosts:"MyPosts_myPosts__1V9iv",posts:"MyPosts_posts__2Iz8x",subtitle:"MyPosts_subtitle__1j497",boxBtn:"MyPosts_boxBtn__ZY5gB"}},53:function(e,t,n){e.exports={item:"Post_item__3-Ewb",icons:"Post_icons__3WArY",likesIcon:"Post_likesIcon__2BwZF"}},87:function(e,t,n){e.exports={formControl:"FormControls_formControl__vKn3r",error:"FormControls_error__3U5re"}},88:function(e,t,n){e.exports={img:"style_img__2HQOT",box:"style_box__2noti"}},89:function(e,t,n){e.exports={wrapper:"error_wrapper__1maBr",block:"error_block__3xg_Y"}}},[[288,1,2]]]);
//# sourceMappingURL=main.482176df.chunk.js.map